```
```
td_sense_graph <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
```
td_small %>% select('both','Sense','tp','fn')
```
td_sense_graph <- td_small %>% select('both','Sense','tp','fn') %>% tidyr::gather(key = 'type', value = 'value', tp,fn)
```
td_small %>% select('both','Sense','tp','fn') %>% tidyr::gather(key = 'type', value = 'value', tp,fn)
td_sense_graph <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <-
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
ggplot(data = td_sense, aes(x = both, y = value, fill = type)) + geom_bar()
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
ggplot(data = td_sense, aes(x = both, y = value, fill = type)) + geom_bar(stat = 'identity')
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
ggplot(data = td_sense, aes(x = both, y = value, fill = type)) + geom_bar(stat = 'identity', position = 'identity')
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
ggplot(data = td_sense, aes(x = both, y = value, fill = type)) + geom_bar(stat = 'identity', position = 'identity', alpha = 3)
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
ggplot(data = td_sense, aes(x = both, y = value, fill = type)) + geom_bar(stat = 'identity', position = 'identity', alpha = .3)
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
ggplot(data = td_sense, aes(x = both, y = value, fill = type)) + geom_bar(stat = 'identity', position = 'identity', alpha = .3) + theme(axis.text.x = element_text(angle = 90, hjust = 1))
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
ggplot(data = td_sense, aes(x = both, y = value, fill = type)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1
geom_label(aes(label = Sense))
ggplot(data = td_sense, aes(x = both, y = value, fill = type)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1) +
geom_label(aes(label = Sense))
ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1) +
geom_label()
ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1) +
geom_label(size = 3)
ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1) +
geom_label(size = 3)
ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1) +
geom_label(size = 3)
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1) +
geom_label(size = 3)+
theme_minimal()
_
ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1) +
geom_label(size = 3)+
theme_minimal()
)
ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_label(size = 3)+
theme_minimal()
td_pos <- fread('./tp_pos.csv')
tp_pos
td_pos
td_pos <- fread('./tp_pos.csv',drop = 1)
td_acru <- fread('./tp_acru.csv',drop = 1)
tp_fin <- fread('./tp_fin.csv', drop = 1)
View(tp_fin)
tp_fin <- fread('./tp_fin.csv', drop = 1)
View(tp_fin)
ggplot(tp_fin, aes(x = noise, y = sep, fill = only)) + geom_tile()
tp_fin <- fread('./tp_fin.csv', drop = 1, stringsAsFactors = T)
glimpse(tp_fin)
tp_fin <- read.csv('./tp_fin.csv')
glimpse(tp_fin)
factor(tp_fin$noise)
ggplot(tp_fin, aes(x = factor(tp_fin$noise), factor(tp_fin$sep), fill = factor(tp_fin$only))) + geom_tile()
View(tp_fin)
factor(tp_fin$only)
tp_test = tp_fin %>% filter('index' %in% 'hubers'  && 'mc_type' %in% 'random_order' )
tp_test
tp_test = tp_fin %>% filter(index == 'hubers'  & mc_type == 'random_order' )
tp_test
ggplot(tp_fin, aes(x = factor(tp_test$noise), factor(tp_test$sep), fill = factor(tp_test$only))) + geom_tile()
ggplot(tp_test, aes(x = factor(tp_test$noise), factor(tp_test$sep), fill = factor(tp_test$only))) + geom_tile()
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
tp_bar <- ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_label(size = 3)+
theme_minimal()
tp_fin2 <- tp_fin %>% mutate_all(factor)
glimpse(tp_fin2)
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
tp_bar <- ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_label(size = 3)+
theme_minimal()
tp_fin2 <- tp_fin %>% mutate_all(factor)
fin_plot_list <- list()
unique(tp_fin2$mc_type)
test_plot <- ggplot(tp_fin2,aes(x = noise,y = sep ,fill = noise)) + geom_tile
test_plot <- ggplot(tp_fin2,aes(x = noise,y = sep ,fill = noise)) + geom_tile()
test_plot + facet_wrap(vars(mc_type, index), nrow = 3)
test_plot + facet_grid(vars(mc_type, index), nrow = 3)
test_plot + facet_grid(vars(mc_type, index))
test_plot
install.packages('gridExtra')
library(gridExtra)
install.packages('lattice')
library(lattice)
for i in unique(tp_fin2$mc_type){
for j in unique(tp_fin2$index){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
plot <- ggplot(plot_df, aes(x = noise,y = sep, fill = only)) + geom_tile
fin_plot_list <- list.append(fin_plot_list, plot)
}
}
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
plot <- ggplot(plot_df, aes(x = noise,y = sep, fill = only)) + geom_tile
fin_plot_list <- list.append(fin_plot_list, plot)
}
}
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
plot <- ggplot(plot_df, aes(x = noise,y = sep, fill = only)) + geom_tile()
fin_plot_list <- list.append(fin_plot_list, plot)
}
}
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
plot <- ggplot(plot_df, aes(x = noise,y = sep, fill = only)) + geom_tile()
fin_plot_list <- append(fin_plot_list, plot)
}
}
grid.arrange(fin_plot_list, ncol = 3)
grid.arrange(grobs = fin_plot_list, ncol = 3)
for( i in fin_plot_list){plot(i)}
fin_plot_list[1]
plot(fin_plot_list[1])
fin_plot_list[1]
fin_plot_list <- list()
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
plot <- ggplot(plot_df, aes(x = noise,y = sep, fill = only)) + geom_tile()
fin_plot_list <- append(fin_plot_list, plot)
}
}
fin_plot_list
fin_plot_list <- list()
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
co <- 1
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
plot <- ggplot(plot_df, aes(x = noise,y = sep, fill = only)) + geom_tile()
fin_plot_list[[co]] <- plot
co <- co + 1
}
}
do.call(grid.arrange, plots)
do.call(grid.arrange, fin_plot_list)
fin_plot_list
fin_plot_list <- list()
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
co <- 1
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
fin_plot_list[[co]] <- ggplot(plot_df, aes(x = noise,y = sep, fill = only)) + geom_tile()
co <- co + 1
}
}
View(fin_plot_list)
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
tp_bar <- ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_label(size = 3)+
theme_minimal()
tp_fin2 <- tp_fin %>% mutate_all(factor)
fin_plot_list <- list()
co <- 1
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
fin_plot_list <- list()
co <- 1
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
fin_plot_list[[co]] <- ggplot(plot_df, aes(x = noise,y = sep, fill = only)) + geom_tile()
co <- co + 1
}
}
)
fin_plot_list <- list()
co <- 1
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
fin_plot_list[[co]] <- ggplot(plot_df, aes(x = noise,y = sep, fill = only)) + geom_tile()
co <- co + 1
}
}
do.call(grid.arrange, fin_plot_list)
thing <- do.call(grid.arrange, fin_plot_list)
thing
levels(tp_fin2$sep)
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
tp_bar <- ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_label(size = 3)+
theme_minimal()
tp_fin2 <- tp_fin %>% mutate_all(factor)
tp_fin2$sep <- factor(tp_fin2$sep, levels(tp_fin2$sep)[c('3','1','0.5')])
fin_plot_list <- list()
co <- 1
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
fin_plot_list[[co]] <- ggplot(plot_df, aes(x = noise,y = sep, fill = only)) + geom_tile()
co <- co + 1
}
}
do.call(grid.arrange, fin_plot_list)
tp_fin2
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
tp_bar <- ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_label(size = 3)+
theme_minimal()
tp_fin2 <- tp_fin %>% mutate_all(factor)
tp_fin2$sep <- factor(tp_fin2$sep, levels(tp_fin2$sep)[c('3','1','0.5')])
fin_plot_list <- list()
co <- 1
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
fin_plot_list[[co]] <- ggplot(plot_df, aes(x = noise,y = sep, fill = only)) + geom_tile()
co <- co + 1
}
}
tp_fin2 <- tp_fin %>% mutate_all(factor)
factor(tp_fin2$sep, levels(tp_fin2$sep)[c('3','1','0.5')])
factor(tp_fin2$sep, levels(tp_fin2$sep)[c(3,2,1)])
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
tp_bar <- ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_label(size = 3)+
theme_minimal()
tp_fin2 <- tp_fin %>% mutate_all(factor)
tp_fin2$sep <- factor(tp_fin2$sep, levels(tp_fin2$sep)[c(3,2,1)])
fin_plot_list <- list()
co <- 1
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
fin_plot_list[[co]] <- ggplot(plot_df, aes(x = noise,y = sep, fill = only)) + geom_tile()
co <- co + 1
}
}
do.call(grid.arrange, fin_plot_list)
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
fin_plot_list[[co]] <- ggplot(plot_df, aes(x = noise,y = sep, fill = only)) + geom_tile() + xlab(i) +ylab(j)
co <- co + 1
}
}
do.call(grid.arrange, fin_plot_list)
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
tp_bar <- ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_label(size = 3)+
theme_minimal()
tp_fin2 <- tp_fin %>% mutate_all(factor)
tp_fin2$sep <- factor(tp_fin2$sep, levels(tp_fin2$sep)[c(3,2,1)])
fin_plot_list <- list()
co <- 1
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
fin_plot_list[[co]] <- ggplot(plot_df, aes(x = noise,y = sep, fill = only)) + geom_tile() + xlab(i) +ylab(j)
co <- co + 1
}
}
do.call(grid.arrange, fin_plot_list)
tp_fin2
sums_plot_list <- list()
co <- 1
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
sums_plot_list[[co]] <- ggplot(plot_df, aes(x = noise,y = sep, fill = Sums)) + geom_tile() + xlab(i) +ylab(j)
co <- co + 1
}
}
sums_wrap <- do.call(grid.arrange, sums_plot_list)
sums_wrap
sums_wrap
do.call(grid.arrange, fin_plot_list)
ggplot(td_acru, aes(x = acru)) + geom_density()
ggplot(td_acru[td_acru$acc == 1], aes(x = acru)) + geom_density()
td_acru[td_acru$acc == 1]
td_acru$acc
View(td_acru)
td_acru <- fread('./tp_acru.csv',drop = 1)
View(td_acru)
ggplot(td_acru[td_acru$acc == 'tp'], aes(x = acru)) + geom_density()
ggplot(td_acru[td_acru$acc != 'tp'], aes(x = acru)) + geom_density()
quantile(td_acru$acru)
quantile(td_acru$acru)[2]
quantile(td_acru$acru)[2][0]
thing <- quantile(td_acru$acru)
thing
thing[0:1]
thing[1:1]
thing[1,1]
thing[1]
unname(thing[1])
tp_km <- td_acru %>% groupby(tm) %>% summmarise(mean = mean(acru),lower = lower_4(acru), upper = upper_4(acru))
tp_km <- td_acru %>% group_by(tm) %>% summmarise(mean = mean(acru),lower = lower_4(acru), upper = upper_4(acru))
tp_km <- td_acru %>% group_by(Total) %>% summmarise(mean = mean(acru),lower = lower_4(acru), upper = upper_4(acru))
tp_km <- td_acru %>% group_by(Total) %>% summarise(mean = mean(acru),lower = lower_4(acru), upper = upper_4(acru))
lower_4 <- function(x){
thing <- quantile(x)
return(unname(thing[1]))
}
upper_4 <- function(x){
thing <- quantile(x)
return(unname(thing[3]))
}
tp_km <- td_acru %>% group_by(Total) %>% summarise(mean = mean(acru),lower = lower_4(acru), upper = upper_4(acru))
tp_km
tp_km <- td_acru %>% group_by(Total,index) %>% summarise(mean = mean(acru),lower = lower_4(acru), upper = upper_4(acru))
tp_km
tp_km <- td_acru %>% replace_na(acru = 0) %>%
group_by(Total,index) %>%
summarise(mean = mean(acru),lower = lower_4(acru), upper = upper_4(acru))
tp_km <- td_acru %>%
mutate(acru = replace_na(acru, 0)) %>%
group_by(Total,index) %>%
summarise(mean = mean(acru),lower = lower_4(acru), upper = upper_4(acru))
tp_km
tp_km <- td_acru %>%
mutate(acru = replace_na(Total, 0)) %>%
group_by(Total,index) %>%
summarise(mean = mean(acru),lower = lower_4(acru), upper = upper_4(acru))
tp_km
tp_km <- td_acru %>%
mutate(Total = replace_na(Total, 0)) %>%
group_by(Total,index) %>%
summarise(mean = mean(acru),lower = lower_4(acru), upper = upper_4(acru))
tp_km
km_plot <- ggplot(tp_km, aes(x = total, y = mean, fill = index)) +
geom_bar(stat = 'identity', postition = 'dodge') +
geom_errorbar(aes(ymin = lower, ymax = upper))
km_plot
ggplot(tp_km, aes(x = Total, y = mean, fill = index)) +
geom_bar(stat = 'identity', postition = 'dodge') +
geom_errorbar(aes(ymin = lower, ymax = upper))
ggplot(tp_km, aes(x = Total, y = mean, fill = index)) +
geom_bar(stat = 'identity', position = 'dodge') +
geom_errorbar(aes(ymin = lower, ymax = upper))
tp_km$Total <- factor(tp_km$Total)
ggplot(tp_km, aes(x = Total, y = mean, fill = index)) +
geom_bar(stat = 'identity', position = 'dodge') +
geom_errorbar(aes(ymin = lower, ymax = upper))
ggplot(tp_km, aes(x = Total, y = mean, fill = index)) +
geom_bar(stat = 'identity', position = 'dodge') +
geom_errorbar(aes(ymin = lower, ymax = upper), position = position_dodge)
ggplot(tp_km, aes(x = Total, y = mean, fill = index)) +
geom_bar(stat = 'identity', position = 'dodge') +
geom_errorbar(aes(ymin = lower, ymax = upper), position = 'dodge')
tp_km
ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme(axis.text.x = element_text(angle = 90, hjust = 1)) +
geom_label(size = 3)+
theme_minimal()
ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme_minimal()+
geom_label(size = 3)+
theme(axis.text.x = element_text(angle = 90, hjust = 1))
td_sense
tp_fin2
tp_fin2 %>% filter(index == 'hubers', mc_type == 'min_max')
tp_fin
tc_out
td_out
td_pos
tp_fin <- fread('./tp_fin.csv', drop = 1)
sums_plot_list <- list()
co <- 1
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
sums_plot_list[[co]] <- ggplot(plot_df, aes(x = noise,y = sep, fill = Sums)) + geom_tile() + xlab(i) +ylab(j)
co <- co + 1
}
}
sums_wrap <- do.call(grid.arrange, sums_plot_list)
sums_wrap
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
tp_bar <- ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme_minimal()+
geom_label(size = 3)+
theme(axis.text.x = element_text(angle = 90, hjust = 1))
tp_fin2 <- tp_fin %>% mutate_all(factor)
tp_fin2$sep <- factor(tp_fin2$sep, levels(tp_fin2$sep)[c(3,2,1)])
fin_plot_list <- list()
co <- 1
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
fin_plot_list[[co]] <- ggplot(plot_df, aes(x = noise,y = sep, fill = only)) + geom_tile() + xlab(i) +ylab(j)
co <- co + 1
}
}
success_wrap <- do.call(grid.arrange, fin_plot_list)
sums_plot_list <- list()
co <- 1
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
sums_plot_list[[co]] <- ggplot(plot_df, aes(x = noise,y = sep, fill = Sums)) + geom_tile() + xlab(i) +ylab(j)
co <- co + 1
}
}
sums_wrap <- do.call(grid.arrange, sums_plot_list)
sums_wrap
View(tp_fin2)
tp_fin <- fread('./tp_fin.csv', drop = 1)
td_sense <- td_small %>% select('both','Sense','tp','fn') %>% gather(key = 'type', value = 'value', tp,fn)
td_spec <- td_small %>% select('both','Spec','tn','fp') %>% gather(key = 'type', value = 'value', tn,fp)
tp_bar <- ggplot(data = td_sense, aes(x = both, y = value, fill = type,label = Sense)) +
geom_bar(stat = 'identity', position = 'identity', alpha = .3) +
theme_minimal()+
geom_label(size = 3)+
theme(axis.text.x = element_text(angle = 90, hjust = 1))
tp_fin2 <- tp_fin %>% mutate_all(factor)
tp_fin2$sep <- factor(tp_fin2$sep, levels(tp_fin2$sep)[c(3,2,1)])
fin_plot_list <- list()
co <- 1
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
fin_plot_list[[co]] <- ggplot(plot_df, aes(x = noise,y = sep, fill = only)) + geom_tile() + xlab(i) +ylab(j)
co <- co + 1
}
}
success_wrap <- do.call(grid.arrange, fin_plot_list)
sums_plot_list <- list()
co <- 1
for (i in unique(tp_fin2$mc_type)){
for (j in unique(tp_fin2$index)){
plot_df <- tp_fin2 %>% filter(index == j  & mc_type == i )
sums_plot_list[[co]] <- ggplot(plot_df, aes(x = noise,y = sep, fill = Sums)) + geom_tile() + xlab(i) +ylab(j)
co <- co + 1
}
}
sums_wrap <- do.call(grid.arrange, sums_plot_list)
lower_4 <- function(x){
thing <- quantile(x)
return(unname(thing[1]))
}
upper_4 <- function(x){
thing <- quantile(x)
return(unname(thing[3]))
}
tp_km <- td_acru %>%
mutate(Total = replace_na(Total, 0)) %>%
group_by(Total,index) %>%
summarise(mean = mean(acru),lower = lower_4(acru), upper = upper_4(acru))
tp_km$Total <- factor(tp_km$Total)
km_plot <- ggplot(tp_km, aes(x = Total, y = mean, fill = index)) +
geom_bar(stat = 'identity', position = 'dodge') +
geom_errorbar(aes(ymin = lower, ymax = upper), position = 'dodge')
